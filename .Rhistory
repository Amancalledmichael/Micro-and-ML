---
title: "R Notebook"
output: html_notebook
---
```{r setup}
```{r setup}
---
title: "R Notebook"
output: html_notebook
---
```{r setup}
library(AER)
library(truncreg)
library(margins)
#R Markdown files automatically set the wd to their directory
#Because of that the working directory should be the same as the directory of this file
getwd()
labsupp <- read.csv(file = 'mroz_wool.csv')
head(labsupp)
```
&nbsp;
# OLS
```{r}
OLS <- lm(hours ~ kidslt6 + kidsge6 + age + educ + faminc + city + exper + expersq, data = labsupp)
summary(OLS)
```
&nbsp;
# 1)
```{r}
tobit <- tobit(hours ~ kidslt6 + kidsge6 + age + educ + faminc + city + exper + expersq,
data = labsupp)
summary(tobit)
tobittable <- coef(summary(tobit))
```
&nbsp;
# 2)
```{r}
trunc <- truncreg(hours ~ kidslt6 + kidsge6 + age + educ + faminc + city + exper + expersq, data = labsupp)
summary(trunc)
trunctable <- coef(summary(trunc))
```
&nbsp;
# 3)
Wage is highly endogenous to hours. Hours affect wages and vice versa. "bad control" problem. The regression equation can be interpreted as how family care affects labour supply of women of same age, education, experience and family income living in the same city.
&nbsp;
# 4)
```{r}
income <- lm(hours ~ faminc, data = labsupp)
summary(income)
margins(income)
```
```{r}
incomecond <- lm(hours ~ faminc, data = subset(labsupp, inlf == 1))
summary(incomecond)
margins(incomecond)
```
```{r}
tobitinc <- tobit(hours ~ faminc, data = labsupp)
summary(tobitinc)
```
```{r}
tobitinccond <- tobit(hours ~ faminc, data = subset(labsupp, inlf == 1))
summary(tobitinccond)
```
install.packages("rmarkdown")
install.packages("rmarkdown")
install.packages("rmarkdown")
install.packages("rmarkdown")
install.packages("rmarkdown")
library(AER)
library(truncreg)
library(margins)
#R Markdown files automatically set the wd to their directory
#Because of that the working directory should be the same as the directory of this file
getwd()
labsupp <- read.csv(file = 'mroz_wool.csv')
head(labsupp)
OLS <- lm(hours ~ kidslt6 + kidsge6 + age + educ + faminc + city + exper + expersq, data = labsupp)
summary(OLS)
tobit <- tobit(hours ~ kidslt6 + kidsge6 + age + educ + faminc + city + exper + expersq,
data = labsupp)
summary(tobit)
tobittable <- coef(summary(tobit))
tobit <- tobit(hours ~ kidslt6 + kidsge6 + age + educ + faminc + city + exper + expersq,
data = labsupp)
summary(tobit)
tobittable <- coef(summary(tobit))
income <- lm(hours ~ faminc, data = labsupp)
income <- lm(hours ~ faminc, data = labsupp)
summary(income)
margins(income)
income <- lm(hours ~ faminc, data = labsupp)
summary(income)
margins(income)
income <- lm(hours ~ faminc, data = labsupp)
summary(income)
margins(income)
tobitinc <- tobit(hours ~ faminc, data = labsupp)
summary(tobitinc)
tobitinccond <- tobit(hours ~ faminc, data = subset(labsupp, inlf == 1))
summary(tobitinccond)
library(AER)
library(truncreg)
library(margins)
#R Markdown files automatically set the wd to their directory
#Because of that the working directory should be the same as the directory of this file
getwd()
labsupp <- read.csv(file = 'mroz_wool.csv')
head(labsupp)
OLS <- lm(hours ~ kidslt6 + kidsge6 + age + educ + faminc + city + exper + expersq, data = labsupp)
summary(OLS)
tobit <- tobit(hours ~ kidslt6 + kidsge6 + age + educ + faminc + city + exper + expersq,
data = labsupp)
summary(tobit)
tobittable <- coef(summary(tobit))
trunc <- truncreg(hours ~ kidslt6 + kidsge6 + age + educ + faminc + city + exper + expersq, data = labsupp)
summary(trunc)
trunctable <- coef(summary(trunc))
income <- lm(hours ~ faminc, data = labsupp)
summary(income)
margins(income)
tobitinc <- tobit(hours ~ faminc, data = labsupp)
summary(tobitinc)
incomecond <- lm(hours ~ faminc, data = subset(labsupp, inlf == 1))
summary(incomecond)
margins(incomecond)
tobitinccond <- tobit(hours ~ faminc, data = subset(labsupp, inlf == 1))
summary(tobitinccond)
library(AER)
library(truncreg)
library(margins)
#R Markdown files automatically set the wd to their directory
#Because of that the working directory should be the same as the directory of this file
getwd()
labsupp <- read.csv(file = 'mroz_wool.csv')
head(labsupp)
OLS <- lm(hours ~ kidslt6 + kidsge6 + age + educ + faminc + city + exper + expersq, data = labsupp)
summary(OLS)
tobit <- tobit(hours ~ kidslt6 + kidsge6 + age + educ + faminc + city + exper + expersq,
data = labsupp)
summary(tobit)
tobittable <- coef(summary(tobit))
trunc <- truncreg(hours ~ kidslt6 + kidsge6 + age + educ + faminc + city + exper + expersq, data = labsupp)
summary(trunc)
trunctable <- coef(summary(trunc))
income <- lm(hours ~ faminc, data = labsupp)
summary(income)
margins(income)
tobitinc <- tobit(hours ~ faminc, data = labsupp)
summary(tobitinc)
incomecond <- lm(hours ~ faminc, data = subset(labsupp, inlf == 1))
summary(incomecond)
margins(incomecond)
tobitinccond <- tobit(hours ~ faminc, data = subset(labsupp, inlf == 1))
summary(tobitinccond)
library(AER)
library(npsf)
#R Markdown files automatically set the wd to their directory
#Because of that the working directory should be the same as the directory of this file
getwd()
labsupp <- read.csv(file = 'mroz_wool.csv')
head(labsupp)
library(AER)
library(npsf)
#R Markdown files automatically set the wd to their directory
#Because of that the working directory should be the same as the directory of this file
getwd()
labsupp <- read.csv(file = 'mroz_wool.csv')
head(labsupp)
head(labsupp)
OLS <- lm(hours ~ kidslt6 + kidsge6 + age + educ + nwifeinc + city + exper + expersq, data = labsupp)
summary(OLS)
tobit <- tobit(hours ~ kidslt6 + kidsge6 + age + educ + nwifeinc + city + exper + expersq,
data = labsupp)
summary(tobit)
trunc <- npsf::truncreg(hours ~ kidslt6 + kidsge6 + age + educ + nwifeinc + city + exper + expersq, data = labsupp, marg.eff = T, ll = 0)
summary(trunc)
library(AER)
library(truncreg)
#R Markdown files automatically set the wd to their directory
#Because of that the working directory should be the same as the directory of this file
getwd()
labsupp <- read.csv(file = 'mroz_wool.csv')
head(labsupp)
library(AER)
library(truncreg)
#R Markdown files automatically set the wd to their directory
#Because of that the working directory should be the same as the directory of this file
getwd()
labsupp <- read.csv(file = 'mroz_wool.csv')
head(labsupp)
OLS <- lm(hours ~ kidslt6 + kidsge6 + age + educ + nwifeinc + city + exper + expersq, data = labsupp)
summary(OLS)
tobit <- tobit(hours ~ kidslt6 + kidsge6 + age + educ + nwifeinc + city + exper + expersq,
data = labsupp)
summary(tobit)
trunc <- truncreg(hours ~ kidslt6 + kidsge6 + age + educ + nwifeinc + city + exper + expersq, data = labsupp, marg.eff = T, ll = 0)
summary(trunc)
trunc <- truncreg(hours ~ kidslt6 + kidsge6 + age + educ + nwifeinc + city + exper + expersq, data = labsupp)
summary(trunc)
# average marginal effects for those working from the tobit regression
margins(tobit)
library(margins)
# average marginal effects for those working from the tobit regression
margins(tobit)
library(censReg)
install.packages("censReg")
library(censReg)
tobit <- censReg(hours ~ kidslt6 + kidsge6 + age + educ + nwifeinc + city + exper + expersq,
data = labsupp)
summary(tobit)
# average marginal effects for those working from the tobit regression
margEff(tobit)
install.packages("marginaleffects")
library(censReg)
library(truncreg)
library(marginaleffects)
#R Markdown files automatically set the wd to their directory
#Because of that the working directory should be the same as the directory of this file
getwd()
labsupp <- read.csv(file = 'mroz_wool.csv')
head(labsupp)
# average marginal effects for those working from the tobit regression
marginal_effects(tobit)
library(marginaleffects)
# average marginal effects for those working from the tobit regression
marginaleffects(tobit)
library(AER)
library(truncreg)
library(marginaleffects)
#R Markdown files automatically set the wd to their directory
#Because of that the working directory should be the same as the directory of this file
getwd()
labsupp <- read.csv(file = 'mroz_wool.csv')
head(labsupp)
tobit <- tobit(hours ~ kidslt6 + kidsge6 + age + educ + nwifeinc + city + exper + expersq,
data = labsupp)
# average marginal effects for those working from the tobit regression
marginaleffects(tobit)
# average marginal effects for those working from the tobit regression
individual_marginal_effects <- marginaleffects(tobit)
# average marginal effects for those working from the tobit regression
individual_marginal_effects <- marginal_effects(tobit)
library(AER)
library(truncreg)
library(margins)
#R Markdown files automatically set the wd to their directory
#Because of that the working directory should be the same as the directory of this file
getwd()
labsupp <- read.csv(file = 'mroz_wool.csv')
head(labsupp)
# average marginal effects for those working from the tobit regression
individual_marginal_effects <- marginal_effects(tobit)
average_marginal_effects_all <- colMeans(individual_marginal_effects_all)
# average marginal effects for all observations in the tobit
individual_marginal_effects_all <- marginal_effects(tobit)
average_marginal_effects_all <- colMeans(individual_marginal_effects_all)
View(tobit)
# average marginal effects for all
individual_marginal_effects_working <- marginal_effects(tobit, data = subset(labsupp, inlf = 1)
average_marginal_effects_working <- colMeans(individual_marginal_effects_working)
# average marginal effects for all
individual_marginal_effects_working <- marginal_effects(tobit, data = subset(labsupp, inlf = 1))
average_marginal_effects_working <- colMeans(individual_marginal_effects_working)
ame_all_nwifeinc <-
# average marginal effects for all
individual_marginal_effects_working <- marginal_effects(tobit, data = labsupp[labsupp$inlf == 1,])
View(individual_marginal_effects)
# average marginal effects for all observations in the tobit
individual_marginal_effects_all <- marginal_effects(tobit)
rm(list=ls())
library(AER)
library(truncreg)
library(margins)
#R Markdown files automatically set the wd to their directory
#Because of that the working directory should be the same as the directory of this file
getwd()
labsupp <- read.csv(file = 'mroz_wool.csv')
head(labsupp)
OLS <- lm(hours ~ kidslt6 + kidsge6 + age + educ + nwifeinc + city + exper + expersq, data = labsupp)
summary(OLS)
OLS <- lm(hours ~ kidslt6 + kidsge6 + age + educ + nwifeinc + city + exper + expersq, data = labsupp)
summary(OLS)
OLS <- lm(hours ~ kidslt6 + kidsge6 + age + educ + nwifeinc + city + exper + expersq, data = labsupp)
summary(OLS)
&nbsp;
# 1)
```{r}
tobit <- tobit(hours ~ kidslt6 + kidsge6 + age + educ + nwifeinc + city + exper + expersq,
data = labsupp)
summary(tobit)
```
tobit <- tobit(hours ~ kidslt6 + kidsge6 + age + educ + nwifeinc + city + exper + expersq,
data = labsupp)
summary(tobit)
trunc <- truncreg(hours ~ kidslt6 + kidsge6 + age + educ + nwifeinc + city + exper + expersq, data = labsupp)
summary(trunc)
# average marginal effects for all observations in the tobit
individual_marginal_effects_all <- marginal_effects(tobit)
average_marginal_effects_all <- colMeans(individual_marginal_effects_all)
ame_all_nwifeinc <-
# average marginal effects for all
individual_marginal_effects_working <- marginal_effects(tobit, data = labsupp[labsupp$inlf == 1,])
average_marginal_effects_working <- colMeans(individual_marginal_effects_working)
View(individual_marginal_effects_all)
# average marginal effects for all observations in the tobit
individual_marginal_effects_all <- marginaleffects(tobit)
View(individual_marginal_effects_all)
# average marginal effects for all observations in the tobit
individual_marginal_effects_all <- marginal_effects(tobit)
View(individual_marginal_effects_all)
View(individual_marginal_effects_all)
ame_all_nwifeinc <-  average_marginal_effects_all[5]
ame_all_nwifeinc
# average marginal effects for all
individual_marginal_effects_working <- marginal_effects(tobit, data = labsupp[labsupp$inlf == 1,])
average_marginal_effects_working <- colMeans(individual_marginal_effects_working)
ame_working_nwifeinc
ame_working_nwifeinc <- average_marginal_effects_working[5]
ame_working_nwifeinc
View(individual_marginal_effects_working)
View(individual_marginal_effects_working)
